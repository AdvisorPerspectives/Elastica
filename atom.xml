<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Elastica]]></title>
  <link href="http://Elastica.io/atom.xml" rel="self"/>
  <link href="http://Elastica.io/"/>
  <updated>2017-07-26T14:17:54+02:00</updated>
  <id>http://Elastica.io/</id>
  <author>
    <name><![CDATA[ruflin]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Release 5.3.0]]></title>
    <link href="http://Elastica.io/2017/07/26/release-5-dot-3-0/"/>
    <updated>2017-07-26T14:11:19+02:00</updated>
    <id>http://Elastica.io/2017/07/26/release-5-dot-3-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/5.3.0">Elastica 5.3.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/5.3.0">download</a>).</p>

<p>This release is compatible with Elasticsearch 5.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/release-notes-5.4.1.html">elasticsearch 5.4.1</a>.</p>

<h2>Backward Compatibility Breaks</h2>

<ul>
<li>Removed <code>Query\NumericRange</code>, use <code>Query\Range</code> instead <a href="https://github.com/ruflin/Elastica/pull/1334">#1334</a></li>
</ul>


<h2>Bugfixes</h2>

<ul>
<li>Send the <code>scroll_id</code> inside a json body instead of plain text <a href="https://github.com/ruflin/Elastica/pull/1325">#1325</a></li>
</ul>


<h2>Added</h2>

<ul>
<li>Added getNumberOfReplicas() for index settings <a href="https://github.com/ruflin/Elastica/pull/1324">PR#1324</a></li>
<li>Added getNumberOfShards() for index settings <a href="https://github.com/ruflin/Elastica/pull/1331">PR#1321</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 5.2.1]]></title>
    <link href="http://Elastica.io/2017/06/07/release-5-dot-2-1/"/>
    <updated>2017-06-07T14:59:05+02:00</updated>
    <id>http://Elastica.io/2017/06/07/release-5-dot-2-1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/5.2.1">Elastica 5.2.1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/5.2.1">download</a>).</p>

<p>This release is compatible with Elasticsearch 5.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.2/release-notes-5.2.2.html">elasticsearch 5.2.2</a>.</p>

<h2>Bugfixes</h2>

<ul>
<li>Fix elastic 5.3.x deprecation warning related to Content-Type not being set.</li>
<li>Fix updating settings of an index. <a href="https://github.com/ruflin/Elastica/pull/1296">#1296</a></li>
<li>Fix bad parameter value to refresh document <a href="https://github.com/rufli/Elastica/pull/1318">#1318</a></li>
</ul>


<h2>Added</h2>

<ul>
<li>Parameter <code>filter_path</code> for response filtering (e.g. <code>$index-&gt;search($query, ['filter_path' =&gt; 'hits.hits._source'])</code>)</li>
<li>Add support for Health parameters for Cluster\Health endpoint (new prop : delayed_unassigned_shards, number_of_pending_tasks, number_of_in_flight_fetch, task_max_waiting_in_queue_millis, active_shards_percent_as_number)</li>
<li>Add support for querystring in Type. this allow to use <code>update_all_types</code> in type mapping in order to resolve conflicts between fields in different types. <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html#merging-conflicts">Conflicts between fields in different types</a></li>
<li>Added <code>\Elastica\Query\ParentId</code> to avoid join with parent documents <a href="https://github.com/ruflin/Elastica/issues/1287">#1287</a></li>
<li>Added <code>\Elastica\Reindex</code> for reindexing between indices <a href="https://github.com/ruflin/Elastica/issues/1311">#1311</a></li>
</ul>


<h2>Improvements</h2>

<ul>
<li>Added support for <code>other_bucket</code> and <code>other_bucket_key</code> paramters on <code>Elastica\Aggregation\Filters</code></li>
</ul>


<h2>Deprecated</h2>

<ul>
<li>Deprecated <code>Tool\CrossIndex</code> use <code>\Elastica\Reindex</code> instead <a href="https://github.com/ruflin/Elastica/issues/1311">#1311</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 5.2.0]]></title>
    <link href="http://Elastica.io/2017/04/13/release-5-dot-2-0/"/>
    <updated>2017-04-13T11:04:37+02:00</updated>
    <id>http://Elastica.io/2017/04/13/release-5-dot-2-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/5.2.0">Elastica 5.2.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/5.2.0">download</a>).</p>

<p>This release is compatible with Elasticsearch 5.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.2/release-notes-5.2.2.html">elasticsearch 5.2.2</a>.</p>

<p>This release adds the official elasticsearch client <a href="https://github.com/elastic/elasticsearch-php">elasticsearch-php</a> as a dependency. All endpoints from the official client can now also be used in Elastica through <code>requestEndpoint</code>.</p>

<h2>Bugfixes</h2>

<ul>
<li>Fix reading bool index settings like <code>\Elastica\Index\Settings::getBlocksWrite</code>. Elasticsearch returns all settings as strings and does not normalize bool values.
The getters now return the right bool value for whichever string representation is used like &lsquo;true&rsquo;, &lsquo;1&rsquo;, &lsquo;on&rsquo;, &lsquo;yes&rsquo;. <a href="https://github.com/ruflin/Elastica/pull/1251">#1251</a></li>
<li>Fix for QueryBuilder version check <code>\Elastica\QueryBuilder\Version\Version240.php</code> added all new query types to queries array. <a href="https://github.com/ruflin/Elastica/pull/1266">#1266</a> <a href="https://github.com/ruflin/Elastica/pull/1269">#1269</a></li>
<li>Do not modify the original query in <code>\Elastica\Search::count</code>. <a href="https://github.com/ruflin/Elastica/pull/1276">#1276</a></li>
</ul>


<h2>Added</h2>

<ul>
<li>Added <code>\Elastica\Client::requestEndpoint</code>, <code>\Elastica\Index::requestEndpoint</code>, <code>\Elastica\Type::requestEndpoint</code> that allow make requests with official client Endpoint usage. <a href="https://github.com/ruflin/Elastica/pull/1275">#1275</a></li>
<li>Added <code>\Elastica\Aggregation\GeoBounds</code> that computes the bounding box containing all geo_point values for a field. <a href="https://github.com/ruflin/Elastica/pull/1271">#1271</a></li>
<li>Added <code>\Elastica\Query\MatchNone</code> the inverse of MatchAll. <a href="https://github.com/ruflin/Elastica/pull/1276">#1276</a></li>
</ul>


<h2>Improvements</h2>

<ul>
<li>added support for the &ldquo;explain&rdquo; flag of AnalyzeAPI <a href="https://github.com/ruflin/Elastica/pull/1254">#1254</a></li>
<li>added support for the &ldquo;request_cache&rdquo; search option <a href="https://github.com/ruflin/Elastica/pull/1243">#1243</a></li>
<li>skip sending &ldquo;retry_on_conflict=0&rdquo; default query param to improve compatibility with Amazon Elasticsearch <a href="https://github.com/ruflin/Elastica/pull/1047">#1047</a></li>
<li>optimized <code>\Elastica\Scroll</code> to avoid one request <a href="https://github.com/ruflin/Elastica/pull/1273">#1273</a></li>
<li>Update elasticsearch-php dependency to 5.2.0 <a href="https://github.com/ruflin/Elastica/pull/1245">#1245</a></li>
<li>Update elasticsearch testing dependency to 5.2.2 <a href="https://github.com/ruflin/Elastica/pull/1245">#1245</a></li>
</ul>


<h2>Deprecated</h2>

<ul>
<li>Deprecated <code>\Elastica\Exception\ElasticsearchException</code> which is irrelevant since Elasticsearch now exposes the errors as a structured array instead of a single string.
Use <code>\Elastica\Exception\ResponseException::getResponse::getFullError</code> instead.</li>
<li>Deprecated both <code>prefix_len</code> &amp; <code>min_word_len</code> fields in <code>Elastica\Suggest\CandidateGenerator\DirectGenerator</code> as these now return errors when using the phrase suggester to querying terms.
Use <code>prefix_length</code> &amp; <code>min_word_length</code> instead <a href="https://github.com/ruflin/Elastica/pull/1282">#1282</a>
Use <code>\Elastica\Exception\ResponseException::getResponse::getFullError</code> instead. <a href="https://github.com/ruflin/Elastica/pull/1251">#1251</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 5.1.0]]></title>
    <link href="http://Elastica.io/2017/02/15/release-5-dot-1-0/"/>
    <updated>2017-02-15T12:23:04+01:00</updated>
    <id>http://Elastica.io/2017/02/15/release-5-dot-1-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/5.1.0">Elastica 5.1.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/5.1.0">download</a>).</p>

<p>This release is compatible with Elasticsearch 5.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.1/release-notes-5.1.2.html">elasticsearch 5.1.2</a>.</p>

<h2>Backward Compatibility Breaks</h2>

<ul>
<li><code>\Elastica\Script\AbstractScript</code> added the script language as constructor argument and sub-classes must implement <code>getScriptTypeArray</code></li>
</ul>


<h2>Bugfixes</h2>

<ul>
<li>Removed features that do not exist in Elasticsearch 5.0 anymore:

<ul>
<li><code>ttl</code> and <code>timestamp</code> logic: setters and getters in documents and mapping</li>
<li><code>\Elastica\Query\Missing</code>: negate <code>\Elastica\Query\Exists</code> instead</li>
<li><code>\Elastica\Query\TopChildren</code></li>
</ul>
</li>
<li><code>\Elastica\Query\MatchPhrase</code> and <code>\Elastica\Query\MatchPhrasePrefix</code> do not extend <code>\Elastica\Query\Match</code> anymore because they do not share exactly the same options</li>
<li>Removed the <code>routing</code> option in <code>\Elastica\Index::create</code> because there is no routing param when creating an index. So that option was doing nothing so far but fails in Elasticearch 5.0 because the non-existing query param is validated.</li>
<li>Fix <code>relation</code> property of <code>\Elastica\Query\GeoShapeProvided</code></li>
</ul>


<h2>Added</h2>

<ul>
<li>added <code>\Elastica\Script\ScriptId</code> to reference stored scripts by ID</li>
<li>added <code>\Elastica\Query\AbstractGeoShape::RELATION_WITHIN</code></li>
<li>Date math in index names is now escaped in URI</li>
<li>Added a check for paths that already have date math escaped</li>
</ul>


<h2>Improvements</h2>

<ul>
<li><code>\Elastica\Query\HasParent</code> to use <code>parent_type</code> instead of <code>type</code>. Fixes warning due to field being deprecated.</li>
</ul>


<h2>Deprecated</h2>

<ul>
<li>Deprecated functionality that is also deprecated in Elasticsearch 5.0:

<ul>
<li><code>\Elastica\Client::optimizeAll</code> in favor of <code>\Elastica\Client::forcemergeAll</code></li>
<li><code>\Elastica\Query\BoolQuery::setMinimumNumberShouldMatch</code> in favor of <code>\Elastica\Query\BoolQuery::setMinimumShouldMatch</code></li>
<li><code>\Elastica\Query\GeoDistanceRange</code>: use distance aggregations or sorting instead</li>
<li><code>\Elastica\Query\GeohashCell</code></li>
<li><code>\Elastica\Query\Indices</code>: search on the <code>_index</code> field instead</li>
<li><code>\Elastica\Query\Match::setFieldType</code>: use <code>\Elastica\Query\MatchPhrase</code> and <code>\Elastica\Query\MatchPhrasePrefix</code> instead</li>
</ul>
</li>
<li><code>\Elastica\Transport\Null</code> is deprecated because null is a reserved class name in PHP 7. Use <code>\Elastica\Transport\NullTransport</code> instead.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 5.0.0]]></title>
    <link href="http://Elastica.io/2016/12/14/release-5-dot-0-0/"/>
    <updated>2016-12-14T09:58:44+01:00</updated>
    <id>http://Elastica.io/2016/12/14/release-5-dot-0-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/5.0.0">Elastica 5.0.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/5.0.0">download</a>).</p>

<p>This is the first GA release of the Elastica 5.x series. Elastica is now compatible with <a href="(https://www.elastic.co/guide/en/elasticsearch/reference/5.0/release-notes-5.0.0.html">Elasticsearch 5.0</a>). For all the backward compatibility changes also check <a href="http://elastica.io/2016/11/09/release-5-dot-0-0-beta1/">5.0.0-beta1 release notes</a>. For all the major changes in Elasticsearch 5.0 check this <a href="https://www.elastic.co/blog/elasticsearch-5-0-0-released">blog post</a>.</p>

<h2>Backward Compatibility Fixes</h2>

<ul>
<li>remove _shutdown for Node and Cluster as deprecated</li>
</ul>


<h2>Bugfixes</h2>

<ul>
<li>Query options such as &ldquo;timeout&rdquo; or &ldquo;terminate_after&rdquo; should not be ignored when using Multi\Search</li>
</ul>


<h2>Added</h2>

<ul>
<li>Added regex option form suggest completions <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-completion.html#regex">https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-completion.html#regex</a></li>
</ul>


<h2>Improvements</h2>

<ul>
<li><code>\Elastica\JSON</code> throws exception with readable message instead of errno</li>
<li><code>\Elastica\JSON::stringify</code> throws <code>\Elastica\Exception\JSONParseException</code> on error</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 5.0.0-beta1]]></title>
    <link href="http://Elastica.io/2016/11/09/release-5-dot-0-0-beta1/"/>
    <updated>2016-11-09T22:11:31+01:00</updated>
    <id>http://Elastica.io/2016/11/09/release-5-dot-0-0-beta1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/5.0.0-beta1">Elastica 5.0.0-beta1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/5.0.0-beta1">download</a>).</p>

<p>This is the first major release of the Elastica 5.x series. Elastica is now compatible with <a href="(https://www.elastic.co/guide/en/elasticsearch/reference/5.0/release-notes-5.0.0.html">Elasticsearch 5.0</a>). For all the major changes in Elasticsearch 5.0 check this <a href="https://www.elastic.co/blog/elasticsearch-5-0-0-released">blog post</a>.</p>

<p>Lots of major changes and breaking changes have gone into this release. Please test this release with Elasticsearch 5.0 and report any issues on Github. A special thank you goes to <a href="https://github.com/p365labs">@p365labs</a> and <a href="https://github.com/Zyqsempai">@Zyqsempai</a> that helped to make this release possible.</p>

<h2>Backward Compatibility Breaks</h2>

<ul>
<li>Update elasticsearch dependency to 5.0</li>
<li>Replace flush refresh param with a options array</li>
<li>Rename Mapping::setFields to Mapping::setStoredFields</li>
<li>Removing all deprecated filters including tests. Use queries instead.</li>
<li>Remove deprecated Elastica\Script*.php classes. Use Elastica\Script* instead.</li>
<li>Remove Elastica/Query/Image.php and test/Elastica/Query/ImageTest.php, no more support for image-plugin.</li>
<li>Remove Elastica/Query/Filtered.php and test/Elastica/Query/FilteredTest.php and all uses from code.</li>
<li>Remove index.merge.policy.merge_factor, and set/get MergePolicy as it looks deprecated from ES 1.6</li>
<li>Add new &ldquo;Percolate query&rdquo; functionality and tests</li>
<li>Remove in Elastica\AbstractUpdateAction Option &ldquo;percolate&rdquo;, getter and setter as deprecated as of ES 1.3. Use Percolator instead.</li>
<li>Remove in Elastica\Aggregation\DateHistogram Option &ldquo;pre_zone&rdquo; is deprecated as of ES 1.5. Use &ldquo;time_zone&rdquo; instead</li>
<li>Remove in Elastica\Aggregation\DateHistogram Option &ldquo;post_zone&rdquo; is deprecated as of ES 1.5. Use &ldquo;time_zone&rdquo; instead.</li>
<li>Remove in Elastica\Aggregation\DateHistogram Option &ldquo;pre_zone_adjust_large_interval&rdquo; is deprecated as of ES 1.5. Use &ldquo;time_zone&rdquo; instead.</li>
<li>Remove in Elastica\Aggregation\DateHistogram Option &ldquo;pre_offset&rdquo; is deprecated as of ES 1.5. Use &ldquo;offset&rdquo; instead.</li>
<li>Remove in Elastica\Aggregation\DateHistogram Option &ldquo;post_offset&rdquo; is deprecated as of ES 1.5. Use &ldquo;offset&rdquo; instead.</li>
<li>Remove Elastica\Document::set as deprecated. Use Elastica\Document::set instead</li>
<li>Remove Elastica\Document::setScript() is no longer available as of 0.90.2. See <a href="http://elastica.io/migration/0.90.2/upsert.html">http://elastica.io/migration/0.90.2/upsert.html</a> to migrate.</li>
<li>Remove Elastica\Document::getScript() is no longer available as of 0.90.2. See <a href="http://elastica.io/migration/0.90.2/upsert.html">http://elastica.io/migration/0.90.2/upsert.html</a> to migrate.</li>
<li>Remove Elastica\Document::hasScript() is no longer available as of 0.90.2. See <a href="http://elastica.io/migration/0.90.2/upsert.html">http://elastica.io/migration/0.90.2/upsert.html</a> to migrate.</li>
<li>Remove Elastica/Query::setLimit as deprecated. Use the Elastica/Query::setSize() method</li>
<li>Remove Elastica\Query\Builder</li>
<li>Remove Elastica\Query\Fuzzy::addField as deprecated. Use Elastica\Query\Fuzzy::setField and Elastica\Query\FuzzysetFieldOption instead.</li>
<li>Remove Elastica\Query::setIds as deprecated. Use Elastica\Query::like instead.</li>
<li>Remove Elastica\Query::setLikeText as deprecated. Use Elastica\Query::like instead.</li>
<li>Remove Elastica\Query Option &ldquo;percent_terms_to_match&rdquo; is deprecated as of ES 1.5. Use &ldquo;minimum_should_match&rdquo; instead.</li>
<li>Remove Elastica\QueryBuilder\DSL\Query &ldquo;More Like This Field&rdquo; query is deprecated as of ES 1.4. Use MoreLikeThis query instead.</li>
<li>Changed visibility from protected to private Elastica\ResultSet::$_position as accessing this property in an extended class is deprecated.</li>
<li>Changed visibility from protected to private Elastica\ResultSet::$_response as accessing this property in an extended class is deprecated.</li>
<li>Changed visibility from protected to private Elastica\ResultSet::$_query as accessing this property in an extended class is deprecated.</li>
<li>Changed visibility from protected to private Elastica\ResultSet::$_results as accessing this property in an extended class is deprecated.</li>
<li>Removed Elastica\ResultSet::$_timedOut as deprecated. Use ResultSet->hasTimedOut() instead.</li>
<li>Removed Elastica\ResultSet::$_took as deprecated. Use ResultSet->hasTimedOut() instead.</li>
<li>Removed Elastica\ResultSet::$_totalHits as deprecated. Use ResultSet->hasTimedOut() instead.</li>
<li>Removed Elastica\Type::delete() It is no longer possible to delete the mapping for a type. Instead you should delete the index and recreate it with the new mappings.</li>
<li>Removed Elastica\Query\Builder as deprecated. Use new Elastica\QueryBuilder instead.</li>
<li>Removed Elastica\Percolator as deprecated. Use new Elastica\Query\Percolate instead.</li>
<li>Changed Elastica\Index::deleteByQuery() to use new API <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.0/docs-delete-by-query.html">https://www.elastic.co/guide/en/elasticsearch/reference/5.0/docs-delete-by-query.html</a></li>
<li>Remove Elastica\ScanAndScroll and test, Scan search type is removed from ElasticSearch 5.0.</li>
<li>Remove support for PHP 5.4 and 5.5. Require at least PHP 5.6 #1202</li>
<li>Remove groovy as default scripting language</li>
<li>Remove search_type=count as it is removed in Elasticsearch 5.0</li>
<li>Remove fielddata_fields as it has been deprecated in ES5, use parameter docvalue_fields instead</li>
</ul>


<h2>Added</h2>

<ul>
<li>Elastica\QueryBuilder\DSL\Query::exists</li>
<li>Elastica\QueryBuilder\DSL\Query::type</li>
</ul>


<h2>Improvements</h2>

<ul>
<li>Add a constant for the expression language.</li>
<li><code>Health::getIndices</code> returns key=>value result, where key === $indexName.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$cluster-&gt;getHealth()-&gt;getIndices()[$indexName]
</span><span class='line'>// or
</span><span class='line'>$indices = $cluster-&gt;getHealth()-&gt;getIndices();
</span><span class='line'>$indices[$indexName]</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Added a <code>Query::setTrackScores</code> method</li>
<li>Implemented painless as default scripting language in tests</li>
<li>Updated Dockerfile and elasticsearch.yml to allow inline.script: true</li>
<li>Updated some Script function to use groovy as now default scripting is painless

<ul>
<li>Elastica\Test\Aggregation\ScriptTest::testAggregationScript</li>
<li>Elastica\Test\Aggregation\ScriptTest::testAggregationScriptAsString</li>
<li>Elastica\Test\Query\FunctionScoreTest::testScriptScore</li>
<li>Elastica\Test\BulkTest::testUpdate</li>
<li>Elastica\Test\ClientTest::testUpdateDocumentByScript</li>
<li>Elastica\Test\ClientTest::testUpdateDocumentByScriptWithUpsert</li>
<li>Elastica\Test\ClientTest::testUpdateDocumentPopulateFields</li>
<li>Elastica\Test\ClientTest::testUpdateDocumentPopulateFields</li>
<li>Elastica\Test\TypeTest::testUpdateDocument</li>
<li>Elastica\Test\TypeTest::testUpdateDocumentWithIdForwardSlashes</li>
<li>Elastica\Test\TypeTest::testUpdateDocumentWithParameter</li>
<li>Elastica\Test\TypeTest::testUpdateDocumentWithFieldsSource</li>
<li>Composer installations will no longer include tests and other development files.</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.2.3]]></title>
    <link href="http://Elastica.io/2016/09/23/release-3-dot-2-3/"/>
    <updated>2016-09-23T12:26:28+02:00</updated>
    <id>http://Elastica.io/2016/09/23/release-3-dot-2-3</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.2.3">Elastica 3.2.3</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.2.3">download</a>).</p>

<p>This release is compatible with Elasticsearch 2.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.4/release-notes-2.4.0.html">elasticsearch 2.4.0</a>.</p>

<h2>Bugfixes</h2>

<ul>
<li>Query builder is now compatible with Elasticsearch 2.X</li>
</ul>


<h2>Added</h2>

<ul>
<li>Elastica\Aggregation\BucketScript</li>
<li>Elastica\Aggregation\SerialDiff</li>
<li>Elastica\Query\InnerHits</li>
</ul>


<h2>Improvements</h2>

<ul>
<li>Elastica\Client constructor now accepts a transport of fully qualified name. <a href="https://github.com/ruflin/Elastica/pull/1169">#1169</a></li>
<li>Update Elasticsearch dependency to 2.4.0</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.2.2]]></title>
    <link href="http://Elastica.io/2016/08/23/release-3-dot-2-2/"/>
    <updated>2016-08-23T14:45:27+02:00</updated>
    <id>http://Elastica.io/2016/08/23/release-3-dot-2-2</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.2.2">Elastica 3.2.2</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.2.2">download</a>).</p>

<p>This release is compatible with Elasticsearch 2.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/release-notes-2.3.2.html">elasticsearch 2.3.2</a>.</p>

<h2>Bugfixes</h2>

<ul>
<li>Set HTTP headers on each request preventing server error if persistent connection is enabled and compression enabled and later disabled for the same connection.</li>
<li>Removed <code>int</code> type hinting in <code>setMinimumMatch</code> (<code>Terms</code> Query): it should also allow <code>string</code>. <a href="https://github.com/ruflin/Elastica/pull/1151">#1151</a></li>
</ul>


<h2>Added</h2>

<ul>
<li>Elastica\QueryBuilder\DSL\Query::geo_distance</li>
<li>Elastica\Aggregation\GeoCentroid <a href="https://github.com/ruflin/Elastica/pull/1150">#1150</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html#_multi_values_fields">Multi value field</a> param for decay function.</li>
<li>Elastica\Client::getVersion <a href="https://github.com/ruflin/Elastica/pull/1152">#1152</a></li>
</ul>


<h2>Improvements</h2>

<ul>
<li>Set PHP 7.0 as default development version</li>
<li>Get the root reason from Elasticsearch&rsquo;s error JSON, when available <a href="https://github.com/ruflin/Elastica/pull/1111">#1111</a></li>
<li>Optimize memory usage for Http Adapter <a href="https://github.com/ruflin/Elastica/pull/1161">#1161</a></li>
</ul>


<h2>Changed</h2>

<ul>
<li>Remove JSON_ELASTICSEARCH constant as not needed anymore</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.2.1]]></title>
    <link href="http://Elastica.io/2016/06/15/release-3-dot-2-1/"/>
    <updated>2016-06-15T08:18:56+02:00</updated>
    <id>http://Elastica.io/2016/06/15/release-3-dot-2-1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.2.1">Elastica 3.2.1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.2.1">download</a>).</p>

<p>This release is compatible with Elasticsearch 2.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/release-notes-2.3.2.html">elasticsearch 2.3.2</a>.</p>

<h2>Backward Compatibility Fixes</h2>

<ul>
<li>Reintroduced properties in ResultSet removed in 3.2.0 as deprecated properties to be removed in 4.0</li>
</ul>


<h2>Bugfixes</h2>

<ul>
<li>Fix fatal error on <code>Query::addScriptField()</code> if scripts were already set via <code>setScriptFields()</code> <a href="https://github.com/ruflin/Elastica/pull/1086">#1086</a></li>
<li>Fix namespace collision of <code>Type</code> in <code>Query\Ids</code> <a href="https://github.com/ruflin/Elastica/pull/1104">#1104</a></li>
</ul>


<h2>Added</h2>

<ul>
<li>Added the concept of ResultSet Transformers. The Transformer adds more information to a Result, for example the original object or data that created the Result. <a href="https://github.com/ruflin/Elastica/pull/1066">#1066</a></li>
<li>Tidied property initialisation in classes where it was duplicated</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.2.0]]></title>
    <link href="http://Elastica.io/2016/05/02/release-3-dot-2-0/"/>
    <updated>2016-05-02T08:11:13+02:00</updated>
    <id>http://Elastica.io/2016/05/02/release-3-dot-2-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.2.0">Elastica 3.2.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.2.0">download</a>).</p>

<p>This release is compatible with Elasticsearch 2.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/release-notes-2.3.2.html">elasticsearch 2.3.2</a>.</p>

<h2>Backward Compatibility Breaks</h2>

<p>The BC breaks in this release only affect implementations which modified / extended the ResultSet class.</p>

<ul>
<li>Method \Elastica\ResultSet::create and property \Elastica\ResultSet::$class were removed. To change the ResultSet class, implement your own ResultSet Builder. #1065</li>
<li>Properties on \Elastica\ResultSet <em>totalHits, </em>maxScore, <em>took and </em>timedOut that were originally set on object construction are now accessed by the getters on the ResultSet. #1065</li>
</ul>


<h2>Bugfixes</h2>

<ul>
<li>Fix php notice on <code>\Elastica\Index::getAliases()</code> if index has no aliases #1078</li>
</ul>


<h2>Added</h2>

<ul>
<li>Update elasticsearch build dependency to elasticsearch 2.3.2 #1084</li>
</ul>


<h2>Improvements</h2>

<ul>
<li><code>Elastica\Type-&gt;deleteByQuery($query, $options)</code> $query param can be a query <code>array</code> again <a href="https://github.com/ruflin/Elastica/issues/1072">https://github.com/ruflin/Elastica/issues/1072</a> #1073</li>
<li><code>Elastica\Client-&gt;connect()</code> allows to establish a connection to ES server when the config was set using method <code>Elastica\Client-&gt;setConfigValue()</code> <a href="https://github.com/ruflin/Elastica/issues/1076">https://github.com/ruflin/Elastica/issues/1076</a> #1077</li>
<li>Elastica\Client constructor now accepts a LoggerInterface and will log both successful and failed requests. #1069</li>
</ul>


<h2>Deprecated</h2>

<ul>
<li>Configuring the logger in \Elastica\Client $config constructor is deprecated and will be removed. Use the $logger argument instead. #1069</li>
<li>Extracted creation of ResultSet objects to a new dedicated ResultSet\Builder implementation. #1065</li>
</ul>


<h2>Deprecated</h2>

<ul>
<li>All properties in the \Elastica\ResultSet class will be moved to private in 4.0. To manipulate the creation of a ResultSet, implement the \Elastica\ResultSet\BuilderInterface and pass your new Builder to the \Elastica\Search instances. #1065</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.1.1]]></title>
    <link href="http://Elastica.io/2016/03/18/release-3-dot-1-1/"/>
    <updated>2016-03-18T07:58:25+01:00</updated>
    <id>http://Elastica.io/2016/03/18/release-3-dot-1-1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.1.1">Elastica 3.1.1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.1.1">download</a>).</p>

<p>This release is compatible with Elasticsearch 2.x and was tested with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.2/release-notes-2.2.1.html">elasticsearch 2.2.1</a>.</p>

<h2>Added</h2>

<ul>
<li>Add an &ldquo;AwsAuthV4&rdquo; transport that automatically signs requests using credentials from the environment or from the client config. This allows using Elastica with Amazon ElasticSearch Service domains that are restricted to IAM roles or policies. <a href="https://github.com/ruflin/Elastica/pull/1056">https://github.com/ruflin/Elastica/pull/1056</a></li>
<li>Update elasticsearch build dependency to elasticsearch 2.2.1</li>
</ul>


<h2>Improvements</h2>

<ul>
<li><code>Elastica\Exception\InvalidException</code> will be thrown if you try using an
<code>Elastica\Aggregation\AbstractSimpleAggregation</code> without setting either the
<code>field</code> or <code>script</code> param.</li>
<li><code>Elastica\Index-&gt;deleteByQuery($query, $options)</code> $query param can be a query <code>array</code> again</li>
<li><code>Elastica\Query\MoreLikeThis-&gt;toArray()</code> now supports providing a non-indexed document as an input to perform the comparison.</li>
<li><code>Elastica\Status</code> will lazy load the <code>_stats</code> at when it is needed. <a href="https://github.com/ruflin/Elastica/pull/1058">https://github.com/ruflin/Elastica/pull/1058</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.1.0]]></title>
    <link href="http://Elastica.io/2016/01/30/release-3-dot-1-0/"/>
    <updated>2016-01-30T21:23:56+01:00</updated>
    <id>http://Elastica.io/2016/01/30/release-3-dot-1-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.1.0">Elastica 3.1.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.1.0">download</a>). This release is compatible with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.1/release-notes-2.1.1.html">elasticsearch 2.1.1</a>.</p>

<h2>Backward Compatibility Breaks</h2>

<ul>
<li>Update Guzzle transport to use Guzzle 6</li>
<li>Elastica\Query\FunctionScore::setFilter - deprecated and will throw DeprecatedException since not supported by Elasticsearch. Use setQuery instead.</li>
</ul>


<h2>Added</h2>

<ul>
<li><code>Elastica\Result-&gt;getDocument</code> and <code>Elastica\ResultSet-&gt;getDocuments</code> for return <code>\Elastica\Document</code>. <a href="https://github.com/ruflin/Elastica/issues/960">https://github.com/ruflin/Elastica/issues/960</a></li>
</ul>


<h2>Improvements</h2>

<ul>
<li>Add username and password params to connection</li>
</ul>


<h2>Deprecated</h2>

<ul>
<li>Elastica\AbstractScript|Script|ScriptFile|ScriptFields deprecated in favor of Elastica\Script|AbstractScript|Script|ScriptFile|ScriptFields <a href="https://github.com/ruflin/Elastica/pull/1028">#1028</a></li>
<li>Elastica\Filter* are deprecated. You can use proper queries instead. Backward compatibility layer provided, but will be removed in next Elastica releases. See <a href="https://www.elastic.co/blog/better-query-execution-coming-elasticsearch-2-0">https://www.elastic.co/blog/better-query-execution-coming-elasticsearch-2-0</a> and <a href="https://github.com/ruflin/Elastica/issues/1001">https://github.com/ruflin/Elastica/issues/1001</a></li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v2.1.1">Elasticsearch</a></td>
<td>2.1.1</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v3.1.1">Elasticsearch mapper attachments plugin</a></td>
<td>3.1.1</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.0.1]]></title>
    <link href="http://Elastica.io/2016/01/05/release-3-dot-0-1/"/>
    <updated>2016-01-05T14:38:19+01:00</updated>
    <id>http://Elastica.io/2016/01/05/release-3-dot-0-1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.0.1">Elastica 3.0.1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.0.1">download</a>). This release is compatible with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.1/release-notes-2.1.1.html">elasticsearch 2.1.1</a>.</p>

<p>Elastica 3.0.1 is a bugfix release. Nested filters were readded. More details for the 3.0.0 release can be found under <a href="http://elastica.io/2016/01/04/release-3-dot-0-0/">Release 3.0.0</a>.</p>

<h3>Improvements</h3>

<ul>
<li>Update build dependency to elasticsearch 2.1.1 #1022</li>
<li>Readd \Elastica\Filter\Nested. See <a href="https://github.com/ruflin/Elastica/issues/1001">https://github.com/ruflin/Elastica/issues/1001</a> #1020</li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v2.1.1">Elasticsearch</a></td>
<td>2.1.1</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v3.1.1">Elasticsearch mapper attachments plugin</a></td>
<td>3.1.1</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.0.0]]></title>
    <link href="http://Elastica.io/2016/01/04/release-3-dot-0-0/"/>
    <updated>2016-01-04T16:11:26+01:00</updated>
    <id>http://Elastica.io/2016/01/04/release-3-dot-0-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.0.0">Elastica 3.0.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.0.0">download</a>). This release is compatible with <a href="https://www.elastic.co/blog/elasticsearch-2-0-0-released">elasticsearch 2.0.0</a>.</p>

<p>Elastica 3.0.0 is a major release. It is compatible with elasticsearch 2.0 which means also bringing lots of compatibility break. Switch to Elastica 3.0.0-beta1 does not only mean you have to adapt your code but also migrate to elasticsearch 2.0. For the migration to elasticsearch 2.0 check the following two blog posts:</p>

<ul>
<li><a href="https://www.elastic.co/blog/key-point-to-be-aware-of-when-upgrading-from-elasticsearch-1-to-2">Key points to be aware of when upgrading from Elasticsearch 1.x to 2.x</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-2.0.html">Breaking changes in 2.0</a></li>
</ul>


<p>We tried to make the migration as easy as possible by adding deprecated messages and exceptions for the stuff that was or will be removed. Make sure to test your application with the newest version. For more details also see the <a href="http://elastica.io/2015/11/26/release-3-dot-0-0-beta1/">3.0.0-beta1 release</a>.</p>

<h3>Backward Compatibility Breaks</h3>

<ul>
<li>Revert getError changes in Response object and make it better BC compatible. See comment <a href="https://github.com/ruflin/Elastica/commit/41a7a2075837320bc9bd3bca4150e05a1ec9a115#commitcomment-15136374">here</a>.</li>
</ul>


<h3>Bugfixes</h3>

<ul>
<li>Function score query: corrected the <code>score_method</code> <code>average</code> to <code>avg</code> #975</li>
<li>Set <code>json_decode()</code> assoc parameter to true in <code>Elastica\Response</code> #1005</li>
<li>Add <code>bigintConversion</code> to keys passed to connection config in <code>Elastica\Client</code> #1005</li>
<li>Use POST instead of PUT to send bulk requests #1010</li>
</ul>


<h3>Added</h3>

<ul>
<li>Elastica\Query\MultiMatch::setFuzziness now supports being set to <code>AUTO</code> with the const <code>MultiMatch::FUZZINESS_AUTO</code></li>
<li>Elastica\Type\Mapping::send now accepts query string parameters to send along with the mapping request</li>
<li>Elastica\Query\BoolQuery::addFilter</li>
</ul>


<h3>Improvements</h3>

<ul>
<li>More info on Elastica\Exception\PartialShardFailureException. Not just number of failed shards.</li>
<li>Allow bool in TopHits::setSource function #1012</li>
</ul>


<h3>Deprecated</h3>

<ul>
<li>Elastica\Query\Filtered triggers E_USER_DEPRECATED error because filtered query is deprecated since ES 2.0.0-beta1. Use BoolQuery instead.</li>
<li>Elastica\QueryBuilder\DSL\Query::filtered() triggers E_USER_DEPRECATED error because filtered query is deprecated since ES 2.0.0-beta1. Use bool() instead.</li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v2.0.0">Elasticsearch</a></td>
<td>2.0.0</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v3.0.2">Elasticsearch mapper attachments plugin</a></td>
<td>3.0.2</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 3.0.0-beta1]]></title>
    <link href="http://Elastica.io/2015/11/26/release-3-dot-0-0-beta1/"/>
    <updated>2015-11-26T22:58:49+01:00</updated>
    <id>http://Elastica.io/2015/11/26/release-3-dot-0-0-beta1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/3.0.0-beta1">Elastica 3.0.0-beta1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/3.0.0-beta1">download</a>). This release is compatible with <a href="https://www.elastic.co/blog/elasticsearch-2-0-0-released">elasticsearch 2.0.0</a>.</p>

<p>Elastica 3.0.0-beta1 is a major release. It is compatible with elasticsearch 2.0 which means also bringing lots of compatibility break. Switch to Elastica 3.0.0-beta1 does not only mean you have to adapt your code but also migrate to elasticsearch 2.0. We tried to make the migration as easy as possible by adding deprecated messages and exceptions for the stuff that was or will be removed. Make sure to test your application with the newest version.</p>

<p>Please also take into account that this is a beta version, so don&rsquo;t use it in production. Test it with your application and report bugs so we can make sure to iron out bugs or potential problems.</p>

<p>A big thank you goes to all the contributors that made this release possible. A special thank you goes to <a href="https://github.com/im-denisenko">@im-denisenko</a> and <a href="https://github.com/ewgRa">@ewgRa</a>, without them this release would not have been possible. Already looking at the Changelog makes the sheer amount visible which went into this release. <a href="https://github.com/ruflin/Elastica/compare/2.3.1...3.0.0-beta1">Here</a> is a full overview of all 139 commits and 136 touched files.</p>

<p>Happy testing :-)</p>

<h3>Backward Compatibility Breaks</h3>

<ul>
<li>Elastica\AbstractUpdateAction::setPercolate now throw DeprecatedException, user Percolator instead</li>
<li>Elastica\AbstractUpdateAction::getPercolate now throw DeprecatedException, user Percolator instead</li>
<li>Elastica\AbstractUpdateAction::hasPercolate now throw DeprecatedException, user Percolator instead</li>
<li>Elastica\Type::delete now throw DeprecatedException, it is no longer possible to delete the mapping for a type. Instead you should delete the index and recreate it with the new mappings</li>
<li>MoreLikeThis::setLikeText deprecated from ES 2.0, use setLike instead, but there is a difference - setLike haven&rsquo;t trim magic inside for strings</li>
<li>Elastica\Document, methods: setScript, getScript, hasScript now throw DeprecatedException.</li>
<li>MoreLikeThis, methods: setLikeText, setIds, setPercentTermsToMatch now throw DeprecatedException.</li>
<li>Elastica\Aggregation\DateHistogram, methods: setPreZone, setPostZone, setPreZoneAdjustLargeInterval, setPreOffset, setPostOffset now throw DeprecatedException.</li>
<li>Elastica\Query\Builder trigger E_USER_DEPRECATED error when you try use it.</li>
<li>Elastica\Filter\Bool and Elastica\Query\Bool trigger E_USER_DEPRECATED error when you try use them.</li>
<li>Elastica\Query\Fuzzy:addField method trigger E_USER_DEPRECATED error</li>
<li>Elastica\Query\FunctionScore:addBoostFactorFunction method trigger E_USER_DEPRECATED error</li>
<li>Elastica\Query:setLimit method trigger E_USER_DEPRECATED error</li>
<li>Elastica\Document:add method trigger E_USER_DEPRECATED error</li>
<li>Type::moreLikeThis API was removed from ES 2.0, use MoreLikeThis query instead</li>
<li>Remove Thrift transport and everything related to it</li>
<li>Remove Memcache transport and everything related to it</li>
<li>Remove BulkUdp and everything related to it</li>
<li>Remove Facets and everything related to it</li>
<li>Remove ansible scripts for tests setup and Vagrantfile as not needed anymore.
All is based on docker contaienrs now</li>
<li>Support for PHP 5.3 removed</li>
<li>Elastica\Reponse::getError() now returns and array instead of a string</li>
<li>Move function \Elastica\Index\Status::getAliases() and hasAlias(&hellip;) to \Elastica\Index::getAliases()</li>
<li>Remove \Elastica\Index\Status object and related functions</li>
<li>\Elastica\Query\FuzzyLikeThis remove as not supported anymore</li>
<li>Remove \Elastica\Status::getServerStatus() as the information was removed</li>
<li>DeleteByQuery now requires the delete-by-query plugin isntalled</li>
<li>Remove \Elastica\Filter\Nested as it is replaced by \Elastica\Query\Nested</li>
<li>Require at least PHP 5.4</li>
</ul>


<h3>Bugfixes</h3>

<ul>
<li>Fixed GeoShapeProvided relation parameter position</li>
</ul>


<h3>Added</h3>

<ul>
<li>Elastica\Reponse::getErrorMessage was added as getError is now an object</li>
<li>Elastica\Query\MoreLikeThis::setLike</li>
<li>\Elastica\Exception\DeprecatedException</li>
<li>Connection option to convert JSON bigint results to strings can now be set <a href="https://github.com/ruflin/Elastica/issues/717">#717</a></li>
</ul>


<h3>Improvements</h3>

<ul>
<li>Travis builds were moved to docker-compose setup. Ansible scripts and Vagrant files were removed</li>
<li>trigger_error with E_USER_DEPRECATE added to deprecated places</li>
<li>DeprecatedException will be thrown, if there is a call of method that not support BC</li>
</ul>


<h3>Deprecated</h3>

<ul>
<li>Elastica\Type::delete is deprecated</li>
<li>Elastica\Filter\Bool is deprecated</li>
<li>Elastica\Query\Bool is deprecated</li>
<li>Elastica\Query\MoreLikeThis::setLikeText is deprecated</li>
<li>Elastica\Query\MoreLikeThis::setIds is deprecated</li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v2.0.0">Elasticsearch</a></td>
<td>2.0.0</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v3.0.2">Elasticsearch mapper attachments plugin</a></td>
<td>3.0.2</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 2.3.1]]></title>
    <link href="http://Elastica.io/2015/10/18/release-2-dot-3-1/"/>
    <updated>2015-10-18T03:40:33+02:00</updated>
    <id>http://Elastica.io/2015/10/18/release-2-dot-3-1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/2.3.1">Elastica 2.3.1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/2.3.1">download</a>). This release is compatible with elasticsearch 1.7.3.</p>

<h3>Bugfixes</h3>

<ul>
<li>Filters aggregation: empty name is named bucket #935</li>
<li>Prevent mix keys in filters (#936) #939</li>
<li>Fix empty string is not anonymous filter #935</li>
<li>Filters aggregation: empty name is named bucket #935</li>
</ul>


<h3>Added</h3>

<ul>
<li>Support for field_value_factor #953</li>
<li>Added setMinDocCount and setExtendedBounds options #947</li>
<li>Avoid environment dependecies in tests #938</li>
</ul>


<h3>Improvements</h3>

<ul>
<li>Update elasticsearch dependency to elasticsearch 1.7.3 #957</li>
</ul>


<h3>Deprecated</h3>

<ul>
<li>Added exceptions of deprecated transports to deprecation list</li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v1.7.3">Elasticsearch</a></td>
<td>1.7.3</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.7.0">Elasticsearch mapper attachments plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-transport-thrift/tree/v2.7.0">Elasticsearch thrift transport plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elastic/elasticsearch-transport-memcached/tree/v2.7.0">Elasticsearch memcached transport plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/zenobase/geocluster-facet/tree/0.0.12">Elasticsearch geocluster facet plugin</a></td>
<td>0.0.12</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Elastica 2.3.0 broken backward compatibility explanation]]></title>
    <link href="http://Elastica.io/2015/09/22/elastica-2-dot-3-0-broken-backward-compatibility-explanation/"/>
    <updated>2015-09-22T08:23:43+02:00</updated>
    <id>http://Elastica.io/2015/09/22/elastica-2-dot-3-0-broken-backward-compatibility-explanation</id>
    <content type="html"><![CDATA[<p><a href="http://Elastica.io/2015/09/15/release-2-dot-3-0/">Elastica 2.3.0</a> is out and introduced lazy toArray, that broke backward compatibility. Lets talk about this change in details and answer on some questions, that developers, who use Elastica can have.</p>

<h2>What has changed?</h2>

<p>Lets say we have the following code:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$query = new Query();
</span><span class='line'>$termQuery = new Term();
</span><span class='line'>$termQuery-&gt;setTerm('text', 'value');
</span><span class='line'>$query-&gt;setQuery($termQuery);</span></code></pre></td></tr></table></div></figure>


<p>In this example we set the Term object to query. Before version 2.3.0, if you try</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var_dump($query-&gt;getQuery());</span></code></pre></td></tr></table></div></figure>


<p>you will see, that in the result you have an array. This happens, because every objects in setters immediately will be converted to an array and stored as array:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public function setQuery(AbstractQuery $query)
</span><span class='line'>{
</span><span class='line'>    return $this-&gt;setParam('query', $query-&gt;toArray());
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Elastica 2.3.0 broke this behaviour and introduce lazy toArray. This means, that objects always will be stored as is and toArray will be only called when needed. In Elastica&rsquo;s case, this is when performing the request to Elasticsearch. You can rely on, that also after calling toArray - objects will be still be stored as objects.</p>

<h2>Why it was this change made?</h2>

<p>There are a several reasons.</p>

<ul>
<li>In the OOP world, usually what we set is what we get. Now we set objects - and get objects.</li>
<li>In the OOP world we very often extends objects one from another. Code, that is responsible for select objects by Elastica also can extend, and queries will be built step by step from common to specific logic in many places. In this case code will need access to the original query objects, and when they are converted in arrays at setters, query can&rsquo;t be changed without low-level tricks with arrays. After 2.3.0 Elastica changes this behaviour and you always have access to the original objects. You can change query object through the standard usage of Elastica classes.</li>
</ul>


<h2>Is my code broken?</h2>

<p>In most cases if you just used Elastica functions the answer is &ldquo;no&rdquo;. If you answer at least on one of the following question with &ldquo;yes&rdquo;, than your code could be broken:</p>

<ul>
<li>Did you work with Elastica objects on &ldquo;low-level&rdquo;?</li>
<li>Did you change Elastica objects after you set it to another objects?</li>
<li>Did you clone Elastica objects?</li>
</ul>


<p>Lets discuss these question in details.</p>

<h3>Did you work with Elastica objects on &ldquo;low-level&rdquo;?</h3>

<p>When we talk about low-level working with Elastica objects, we are talking about the direct work with Elastica object params, like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$termQuery = $query-&gt;getQuery();
</span><span class='line'>$termQuery['term']['text']['value'] = 'another value';
</span><span class='line'>$query-&gt;setParam('query', $termQuery);</span></code></pre></td></tr></table></div></figure>


<p>Your code will be broken, because getQuery now will return an object instead of array. Remember, it is always bad idea, to work with Elastica params directly if not really necessary.</p>

<h3>Did you change Elastica objects after you set it to another objects?</h3>

<p>Lets say we have the following code:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$termQuery = new Term();
</span><span class='line'>$termQuery-&gt;setTerm('text', 'value');
</span><span class='line'>
</span><span class='line'>$query = new Query();
</span><span class='line'>$query-&gt;setQuery($termQuery);
</span><span class='line'>
</span><span class='line'>$termQuery-&gt;setTerm('text', 'another value');
</span><span class='line'>
</span><span class='line'>$anotherQuery = new Query();
</span><span class='line'>$anotherQuery-&gt;setQuery($termQuery);</span></code></pre></td></tr></table></div></figure>


<p>Before 2.3.0 <code>$query-&gt;toArray()</code> and <code>$anotherQuery-&gt;toArray()</code> will not be equal, because we call <code>$query-&gt;setQuery($termQuery)</code>, <code>$termQuery</code> will be stored as an array and changing this object later will no change the array, that is stored in <code>$query</code>.</p>

<p>After 2.3.0 <code>$query-&gt;toArray()</code> and <code>$anotherQuery-&gt;toArray()</code> will be equal, because <code>$termQuery</code> will be stored as object in <code>$query</code>, and if it will be changed somewhere, the result of <code>toArray()</code> will have this changes too.</p>

<h3>Did you clone Elastica objects?</h3>

<p>Lets say we have the following code:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$termQuery = new Term();
</span><span class='line'>$termQuery-&gt;setTerm('text', 'value');
</span><span class='line'>
</span><span class='line'>$query = new Query();
</span><span class='line'>$query-&gt;setQuery($termQuery);
</span><span class='line'>$cloned = clone $query;
</span><span class='line'>$termQuery-&gt;setTerm('text', 'another value');</span></code></pre></td></tr></table></div></figure>


<p>Before 2.3.0, <code>$cloned-&gt;toArray()</code> will have a term query with the key <code>text</code> and value <code>value</code> because the <code>$termQuery</code> will be stored as an array and the array will be cloned also.</p>

<p>After 2.3.0 the <code>$termQuery</code> will be stored as object. When clone is called on <code>$query</code>, only the <code>$query</code> object will be cloned, but objects, that are stored will not be cloned. As a result <code>$cloned-&gt;toArray()</code> will have a term query with the value <code>another value</code>.</p>

<h2>Summary</h2>

<p>That are all cases, which can be broken in your projects after the migration to <a href="http://Elastica.io/2015/09/15/release-2-dot-3-0/">Elastica 2.3.0+</a>. This latest change now gives you the freedom to develop more complex solutions without low-level tricks. Only a very small amount of developers should be affected by the above mentioned issues. In case you have some questions about the changes above, drop us a line on <a href="https://gitter.im/ruflin/Elastica">Gitter</a> so we can help you out.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 2.3.0]]></title>
    <link href="http://Elastica.io/2015/09/15/release-2-dot-3-0/"/>
    <updated>2015-09-15T22:11:47+02:00</updated>
    <id>http://Elastica.io/2015/09/15/release-2-dot-3-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/2.3.0">Elastica 2.3.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/2.3.0">download</a>). This release is compatible with elasticsearch 1.7.2.</p>

<p>As this release breaks backward compatibility, a detailed explanation about the breaking changes can be found <a href="http://Elastica.io/2015/09/22/elastica-2-dot-3-0-broken-backward-compatibility-explanation/">here</a></p>

<h3>Backward Compatibility Breaks</h3>

<ul>
<li>Objects do not casts to arrays in setters and saved in params as objects. There is many side effects if
you work with params on &ldquo;low-level&rdquo; or change your objects after you call setter with object
as argument. <a href="https://github.com/ruflin/Elastica/pull/916">#916</a></li>
</ul>


<h3>Added</h3>

<ul>
<li>Add Script File feature #902 #914</li>
</ul>


<h3>Improvements</h3>

<ul>
<li>Support the http.compression in the Http transport adapter #515</li>
<li>Introduction of Lazy toArray <a href="https://github.com/ruflin/Elastica/pull/916">#916</a></li>
<li>Update Elasticsearch dependency to 1.7.2 <a href="https://github.com/ruflin/Elastica/pull/929">#929</a></li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v1.7.2">Elasticsearch</a></td>
<td>1.7.2</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.7.0">Elasticsearch mapper attachments plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-transport-thrift/tree/v2.7.0">Elasticsearch thrift transport plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elastic/elasticsearch-transport-memcached/tree/v2.7.0">Elasticsearch memcached transport plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/zenobase/geocluster-facet/tree/0.0.12">Elasticsearch geocluster facet plugin</a></td>
<td>0.0.12</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 2.2.1]]></title>
    <link href="http://Elastica.io/2015/08/10/release-2-dot-2-1/"/>
    <updated>2015-08-10T21:01:10+02:00</updated>
    <id>http://Elastica.io/2015/08/10/release-2-dot-2-1</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/2.2.1">Elastica 2.2.1</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/2.2.1">download</a>). This release is compatible with elasticsearch 1.7.1.</p>

<h3>Added</h3>

<ul>
<li>Support for index template added <a href="https://github.com/ruflin/Elastica/pull/905">#905</a></li>
</ul>


<h3>Improvements</h3>

<ul>
<li>Update Elasticsearch dependency to 1.7.1 and update plugin dependencies <a href="https://github.com/ruflin/Elastica/pull/909">#909</a></li>
<li>Update php-cs-fixer to 1.10 <a href="https://github.com/ruflin/Elastica/pull/898">#898</a></li>
<li>Elastica\QueryBuilder now uses Elastica\QueryBuilder\Version\Latest as default version to avoid empty version classes. <a href="https://github.com/ruflin/Elastica/pull/897">#897</a></li>
<li>Update elasticseach-image to work with ES 1.7.1 <a href="https://github.com/ruflin/Elastica/pull/907">#907</a></li>
<li>Local dev environment was refactored to fully work in docker environment. Running tests is now only one command: <code>make tests</code> <a href="https://github.com/ruflin/Elastica/pull/901">#901</a></li>
</ul>


<h3>Deprecated</h3>

<ul>
<li>Elastica\QueryBuilder\Version\Version150 deprecated in favor of Elastica\QueryBuilder\Version\Latest <a href="https://github.com/ruflin/Elastica/pull/897">#897</a></li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v1.7.1">Elasticsearch</a></td>
<td>1.7.1</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.7.0">Elasticsearch mapper attachments plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-transport-thrift/tree/v2.7.0">Elasticsearch thrift transport plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elastic/elasticsearch-transport-memcached/tree/v2.7.0">Elasticsearch memcached transport plugin</a></td>
<td>2.7.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/zenobase/geocluster-facet/tree/0.0.12">Elasticsearch geocluster facet plugin</a></td>
<td>0.0.12</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/Jmoati/elasticsearch-image/releases/tag/1.7.1">Elasticsearch image plugin</a></td>
<td>1.7.1</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Release 2.2.0]]></title>
    <link href="http://Elastica.io/2015/07/08/release-2-dot-2-0/"/>
    <updated>2015-07-08T07:28:30+02:00</updated>
    <id>http://Elastica.io/2015/07/08/release-2-dot-2-0</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/ruflin/Elastica/tree/2.2.0">Elastica 2.2.0</a> (<a href="https://github.com/ruflin/Elastica/releases/tag/2.2.0">download</a>). This release is compatible with elasticsearch 1.6.0.</p>

<h2>Backward Compatibility Breaks</h2>

<ul>
<li>Usage of constant DEBUG and method Elastica\Util::debugEnabled is removed. <a href="https://github.com/ruflin/Elastica/pull/868">#868</a></li>
<li>Elastica\Response::getTransferInfo will not return &ldquo;request_header&rdquo; by default. <a href="https://github.com/ruflin/Elastica/pull/868">#868</a></li>
<li>The Image Plugin is currently not compatible with Elasticearch 1.6.0</li>
</ul>


<h2>Bugfixes</h2>

<ul>
<li>Fixed segmentation fault in PHP7 <a href="https://github.com/ruflin/Elastica/pull/868">#868</a></li>
<li>Removed deprecation for Elastica\Type::deleteByQuery <a href="https://github.com/ruflin/Elastica/pull/875">#875</a></li>
</ul>


<h2>Improvements</h2>

<ul>
<li><code>CallbackStrategy</code> now will accept any <code>callable</code> as callback, not only instance of <code>Closure</code>. <a href="https://github.com/ruflin/Elastica/pull/871">#871</a></li>
<li><code>StrategyFactory</code> now will try to find predefined strategy before looking to global namespace. <a href="https://github.com/ruflin/Elastica/pull/877">#877</a></li>
<li>Update elasticsearch dependency to elasticsearch 1.6.0 <a href="https://www.elastic.co/downloads/past-releases/elasticsearch-1-6-0">https://www.elastic.co/downloads/past-releases/elasticsearch-1-6-0</a></li>
<li>All elasticsearch plugin dependencies were updated to the newest version.</li>
<li>Methods of classes in <code>QueryBuilder\DSL</code> namespace now have exact same signatures as corresponding constructors. <a href="https://github.com/ruflin/Elastica/pull/878">#878</a></li>
<li>Constructor of <code>Aggregation\Filter</code> now accepts filter as second parameter <a href="https://github.com/ruflin/Elastica/pull/878">#878</a></li>
<li>Constructor of <code>Filter\AbstractMulti</code> (<code>BoolAnd</code>, <code>BooldOr</code>) now accepts array of filters as parameter <a href="https://github.com/ruflin/Elastica/pull/878">#878</a></li>
<li>Constructor of <code>Query\Match</code> now accepts arguments <a href="https://github.com/ruflin/Elastica/pull/878">#878</a></li>
<li>Coverage Reporting improved with Codecov <a href="https://github.com/ruflin/Elastica/pull/888">#888</a></li>
<li>Added &lsquo;query_cache&rsquo; option for search <a href="https://github.com/ruflin/Elastica/pull/886">#886</a></li>
</ul>


<h2>Dependencies</h2>

<table>
<thead>
<tr>
<th> Project </th>
<th> Version </th>
<th> Required </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch/tree/v1.6.0">Elasticsearch</a></td>
<td>1.6.0</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments/tree/v2.6.0">Elasticsearch mapper attachments plugin</a></td>
<td>2.6.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elasticsearch/elasticsearch-transport-thrift/tree/v2.6.0">Elasticsearch thrift transport plugin</a></td>
<td>2.6.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/elastic/elasticsearch-transport-memcached/tree/v2.6.0">Elasticsearch memcached transport plugin</a></td>
<td>2.6.0</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/zenobase/geocluster-facet/tree/0.0.12">Elasticsearch geocluster facet plugin</a></td>
<td>0.0.12</td>
<td>no</td>
</tr>
<tr>
<td><a href="https://github.com/SibaTokyo/elasticsearch-image/tree/1.4.0">Elasticsearch image plugin</a></td>
<td>1.4.0</td>
<td>no</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
</feed>
